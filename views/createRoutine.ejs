<%- include("top_navbar") %>

    <body class="bg-background text-accent mt-24">
        <div class="mx-4">
            <div class="border-b border-gray-700 bg-primary px-4 py-5 mb-6 sm:px-6 rounded-lg">
                <div class="flex items-center justify-center">
                    <div class="mt-2">
                        <h3 class="text-2xl font-semibold leading-6 text-secondary text-center">Create Routine</h3>
                    </div>
                </div>
            </div>

            <div class="container mx-auto p-4 max-w-lg bg-primary rounded-lg shadow-lg">
                <div class="p-4">
                    <form action="/create-routine" method="POST">
                        <!-- Routine Name -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-secondary">Name:</label>
                            <input type="text" name="routineName"
                                class="mt-1 block w-full px-3 py-2 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-secondary sm:text-sm bg-white text-black"
                                placeholder="Enter routine name">
                        </div>
                        <!-- Start Time and End Time -->
                        <div class="mb-4 grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-secondary">Start Time</label>
                                <input type="time" name="routineStart"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-secondary sm:text-sm text-black">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-secondary">End Time</label>
                                <input type="time" name="routineEnd"
                                    class="mt-1 block w-full px-3 py-2 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-secondary sm:text-sm text-black">
                            </div>
                        </div>
                        <!-- Date -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-secondary">Select Date</label>
                            <div class="flex justify-between justify-center mx-auto mt-2 overflow-scroll gap-1">
                                <button type="button" id="mon" data-day="Monday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Mon</button>
                                <button type="button" id="tue" data-day="Tuesday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Tue</button>
                                <button type="button" id="wed" data-day="Wednesday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Wed</button>
                                <button type="button" id="thu" data-day="Thursday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Thu</button>
                                <button type="button" id="fri" data-day="Friday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Fri</button>
                                <button type="button" id="sat" data-day="Saturday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Sat</button>
                                <button type="button" id="sun" data-day="Sunday"
                                    class="date-button px-3 py-1 rounded-full border border-gray-500 focus:outline-none focus:ring focus:ring-secondary">Sun</button>
                            </div>
                            <input type="hidden" name="activeDays" id="activeDays">
                        </div>
                        <!-- Device -->
                        <div class="flex items-center justify-between p-3 border border-gray-500 rounded-md">
                            <span class="text-secondary">Device 1</span>
                            <div class="flex items-center space-x-2">
                                <!-- Toggle Switch -->
                                <label for="toggle1" class="flex items-center cursor-pointer">
                                    <div class="relative">
                                        <input id="toggle1" type="checkbox" class="sr-only">
                                        <div class="block bg-gray-600 w-10 h-6 rounded-full"></div>
                                        <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition">
                                        </div>
                                    </div>
                                </label>
                                <button class="bg-secondary text-primary px-4 py-1 rounded-full">Edit</button>
                            </div>
                        </div>
                        <button type="submit"
                            class="w-full bg-secondary text-primary py-2 rounded-md focus:outline-none focus:ring focus:ring-secondary mt-4">Save
                            Routine</button>
                    </form>
                </div>
            </div>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const activeDaysInput = document.getElementById('activeDays');
                const dateButtons = document.querySelectorAll('.date-button');
                const selectedDays = [];

                dateButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const day = button.getAttribute('data-day');
                        if (selectedDays.includes(day)) {
                            selectedDays.splice(selectedDays.indexOf(day), 1);
                            button.classList.remove('bg-secondary', 'text-primary');
                        } else {
                            selectedDays.push(day);
                            button.classList.add('bg-secondary', 'text-primary');
                        }
                        activeDaysInput.value = selectedDays.join(',');
                    });
                });
            });
        </script>
    </body>